<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¬ Carambar & Co - Blagues</title>
    <meta name="description" content="DÃ©couvrez les meilleures blagues de Carambar & Co ! Cliquez pour une blague alÃ©atoire.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¬</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Le conteneur principal qui centre tout le contenu. -->
    <div class="container">
        
        <!-- ======================= HEADER ======================= -->
        <!-- L'en-tÃªte de la page avec le logo et le slogan. -->
        <header class="header">
            <div class="top-links">
                <a class="top-link" href="login.html">ğŸ”‘ Se connecter</a>
                <a class="top-link" href="admin.html">ğŸ”§ Administration</a>
            </div>
            
            <!-- Menu Burger -->
            <button class="burger-menu" id="burgerMenu">
                <div class="burger-icon">
                    <div class="burger-line"></div>
                    <div class="burger-line"></div>
                    <div class="burger-line"></div>
                </div>
            </button>
            <div class="logo">
                <span class="logo-icon">ğŸ¬</span>
                <h1 class="logo-text">Carambar & Co</h1>
            </div>
            <p class="tagline">Les blagues qui font rire depuis 1954 !</p>
        </header>

        <!-- ======================= CONTENU PRINCIPAL ======================= -->
        <main class="main-content">
            
            <!-- SECTION D'ACCUEIL (Hero Section) -->
            <!-- C'est la premiÃ¨re chose que l'utilisateur voit. Elle est visible par dÃ©faut. -->
            <div class="hero-section">
                <div class="hero-content">
                    <h2 class="hero-title">Bienvenue dans l'univers des blagues Carambar !</h2>
                    <p class="hero-description">
                        DÃ©couvrez notre collection de blagues hilarantes. 
                        Chaque clic vous rÃ©serve une surprise !
                    </p>
                    
                    <!-- Le bouton principal qui va dÃ©clencher la premiÃ¨re recherche de blague. -->
                    <button id="jokeButton" class="joke-button">
                        <span class="button-icon">ğŸ­</span>
                        <span class="button-text">Raconte-moi une blague !</span>
                    </button>
                </div>
                
                <div class="hero-image">
                    <div class="carambar-wrapper">
                        <div class="carambar-bonbon">ğŸ¬</div>
                        <div class="carambar-bonbon">ğŸ¬</div>
                        <div class="carambar-bonbon">ğŸ¬</div>
                    </div>
                </div>
            </div>

            <!-- ======================= CONTENEURS D'Ã‰TAT ======================= -->
            <!-- Les 3 conteneurs suivants reprÃ©sentent les diffÃ©rents Ã©tats de l'application. -->
            <!-- Un seul d'entre eux est visible Ã  la fois (gÃ©rÃ© par JavaScript avec la classe 'hidden'). -->

            <!-- 1. CONTENEUR D'AFFICHAGE DE LA BLAGUE -->
            <!-- Cet Ã©lÃ©ment est cachÃ© par dÃ©faut ('hidden') et ne s'affiche que lorsqu'on a une blague. -->
            <div id="jokeContainer" class="joke-container hidden">
                <div class="joke-card">
                    <div class="joke-header">
                        <span class="joke-icon">ğŸ˜„</span>
                        <h3 class="joke-title">Votre blague du jour</h3>
                    </div>
                    <div class="joke-content">
                        <!-- Le texte de la blague sera insÃ©rÃ© ici par JavaScript. -->
                        <p id="jokeText" class="joke-text">Cliquez sur le bouton pour dÃ©couvrir une blague !</p>
                        <!-- L'auteur de la blague sera insÃ©rÃ© ici. -->
                        <p id="jokeAuthor" class="joke-author"></p>
                    </div>
                    <div class="joke-footer">
                        <!-- Le bouton pour demander une nouvelle blague. -->
                        <button id="newJokeButton" class="new-joke-button">
                            <span class="button-icon">ğŸ”„</span>
                            <span class="button-text">Une autre blague !</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 2. CONTENEUR DE CHARGEMENT (Loading State) -->
            <!-- Cet Ã©lÃ©ment est visible uniquement pendant que l'on attend la rÃ©ponse de l'API. -->
            <div id="loadingContainer" class="loading-container hidden">
                <div class="loading-spinner"></div>
                <p class="loading-text">Chargement de votre blague...</p>
            </div>

            <!-- 3. CONTENEUR D'ERREUR (Error State) -->
            <!-- Cet Ã©lÃ©ment s'affiche si la requÃªte Ã  l'API Ã©choue. -->
            <div id="errorContainer" class="error-container hidden">


                <div class="error-card">
                    <span class="error-icon">ğŸ˜…</span>
                    <h3 class="error-title">Oups !</h3>
                    <!-- Le message d'erreur sera insÃ©rÃ© ici par JavaScript. -->
                    <p id="errorText" class="error-text">Une erreur s'est produite.</p>
                    <!-- Le bouton pour relancer la requÃªte en cas d'erreur. -->
                    <button id="retryButton" class="retry-button">
                        <span class="button-icon">ğŸ”„</span>
                        <span class="button-text">RÃ©essayer</span>
                    </button>
                </div>
            </div>

            <!-- 4. SECTION DE PROPOSITION DE BLAGUE PAR LES UTILISATEURS -->
            <div id="submitSection" class="submit-section">
                <h3 class="submit-title">Proposez votre blague</h3>
                <form id="userJokeForm" class="submit-form">
                    <textarea id="userJokeContent" class="submit-textarea" placeholder="Votre blague..." required></textarea>
                    <input id="userJokeAuthor" class="submit-input" type="text" placeholder="Votre nom (optionnel)" />
                    <button type="submit" class="new-joke-button">Envoyer ma blague</button>
                    <p id="userJokeFeedback" class="feedback hidden"></p>
                </form>
            </div>
        </main>

        <!-- ======================= FOOTER ======================= -->
        <footer class="footer">
            <div class="footer-content">
                <p class="footer-text">
                    Â© 2024 Carambar & Co - Tous droits rÃ©servÃ©s
                </p>
                
            </div>
        </footer>
    </div>

    <!-- Conteneur pour l'effet des confettis. Il est en dehors du flux normal. -->
    <div id="confettiContainer" class="confetti-container"></div>
    
    <!-- Menu Mobile -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
    <div class="mobile-menu" id="mobileMenu">
        <a href="login.html" class="mobile-link">ğŸ”‘ Se connecter</a>
        <a href="admin.html" class="mobile-link">ğŸ”§ Administration</a>
    </div>

    <!-- On charge notre fichier JavaScript Ã  la toute fin du body. -->
    <!-- C'est la meilleure pratique pour s'assurer que tout le HTML est disponible quand le script s'exÃ©cute. -->
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html> 